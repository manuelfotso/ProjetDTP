Nom: Pipeline CSV
sur:
  pousser:
    branches:
      - principal
  workflow_dispatch:
    entrées:
      environnement:
        description: Selectionner lenvironnement
        requis: vrai
        valeur par défaut: « dev »
emplois:
  pipeline csv:
    fonctionne sous: ubuntu-latest
    stratégie:
      matrice:
        env:
          - dev
          - test
          - prod
        version de Python:
          - 3.1
          - 3.11
    mesures:
      - nom: Dépôt de vérification
        utilisations: actions/checkout@v3
      - nom: Configurer Python
        utilise: actions/setup-python@v4
        avec:
          version de Python: "3.11"
      - nom: Installer les dépendances
        exécuter: |
          
          python -m pip installer --mise à jour de pip

          pip install pandas   # ou toute autre dépendance nécessaire
      - nom: Exécuter le script Python pour ${{ matrix.env }}
        exécuter: |
          
          si [ "${{ matrix.env }}" == "dev" ]; alors

            scripts Python/csv_to_dev.py

          elif [ "${{ matrix.env }}" == "test" ]; alors

            scripts Python/csv_to_test.py

          elif [ "${{ matrix.env }}" == "prod" ]; then

            scripts Python/csv_to_prod.py

          fi
